{
    "id": "83BAA888-44E5-4B12-A2BD-0B7B16A37201",
    "name": "esquio-set-toggle-parameter",
    "friendlyName": "Set toggle parameter with Esquio",
    "description": "Use this task to set the value for a toggle parameter with Esquio",
    "helpMarkDown": "",
    "category": "Utility",
    "author": "luisfraile",
    "version": {
        "Major": 0,
        "Minor": 1,
        "Patch": 4
    },
    "instanceNameFormat": "Esquio Rollout feature",
    "inputs": [
        {
            "name": "EsquioService",
            "type": "connectedService:esquio",
            "label": "Esquio service/server end point",
            "defaultValue": "",
            "required": true,
            "helpMarkDown": "Select the esquio end point to use. If needed, click on 'manage', and add a new service endpoint of type 'Esquio'"
          },
          {
            "name": "productId",
            "type": "pickList",
            "label": "Esquio product",
            "required": true,
            "helpMarkDown": "Select the name of the product for the feature.",
            "properties": {
              "EditableOptions": "True"
            }
          },
          {
            "name": "flagId",
            "type": "pickList",
            "label": "Esquio feature",
            "required": true,
            "helpMarkDown": "Select the name of the feature to rollout.",
            "properties": {
              "EditableOptions": "True"
            }
          },
          {
            "name": "toggleId",
            "type": "pickList",
            "label": "Esquio Toggle",
            "required": true,
            "helpMarkDown": "Select the name of the toggle to change parameter.",
            "properties": {
              "EditableOptions": "True"
            }
          }
    ], 
        "dataSourceBindings": [
        {
          "target": "productId",
          "endpointId": "$(EsquioService)",
          "dataSourceName": "EsquioProducts",
          "resultTemplate": "{ \"Value\" : \"{{{id}}}\", \"DisplayValue\":\"{{{name}}}\"}"
        },
        {
          "target": "flagId",
          "endpointId": "$(EsquioService)",
          "dataSourceName": "EsquioFlags",
          "parameters": {
            "productId": "$(productId)"
          },
          "resultTemplate": "{ \"Value\" : \"{{{id}}}\", \"DisplayValue\":\"{{{name}}}\"}"
        },
        {
          "target": "featureToggle",
          "endpointId": "$(EsquioService)",
          "dataSourceName": "EsquioFlagDetailed",
          "parameters": {
            "productId": "$(flagId)"
          },
          "resultTemplate": "{ \"Value\" : \"{{{id}}}\", \"DisplayValue\":\"{{{type}}}\"}"
        }
      ],
    "execution": {
        "Node": {
            "target": "index.js"
        }
    }
}